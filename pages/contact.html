<html>
    <head>
        <!-- <meta name="viewport" content="width=device-width, initial-scale=1"> -->
        <title>Mystic Managerie Contact Us</title>

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@200..700&family=Sour+Gummy:ital,wght@0,100..900;1,100..900&family=Swanky+and+Moo+Moo&display=swap" rel="stylesheet">
        
        <link rel="stylesheet" href="../styles/mystic_style.css">   
        <script type = "text/javascript" src="../js/main_page.js"></script>
        
        <script>
            function toggleUrgency() {
                let button = document.getElementById("urgentButton");
                let hiddenInput = document.getElementById("urgentRequest");

                if (hiddenInput.value === "false") {
                    button.style.backgroundColor = "#c0392b";  // Red background
                    button.style.color = "white";  // White text
                    button.innerText = "Urgent Request Marked";
                    hiddenInput.value = "true";
                } else {
                    button.style.backgroundColor = "white";  // Reset to default white
                    button.style.color = "#0c4784";  // Reset text color
                    button.innerText = "Click if this is an urgent request";
                    hiddenInput.value = "false";
                }
            }

            function validateForm() {
                let isValid = true;
                
                let firstname = document.getElementById("firstname");
                let lastname = document.getElementById("lastname");
                let number = document.getElementById("number");
                let email = document.getElementById("email");
                let subject = document.getElementById("subject");
                let message = document.getElementById("message");
                let reason = document.getElementById("reason");
                
                let emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                let numPattern = /^\+?[1-9]\d{0,2}[-.\s]?\(?\d{3}\)?[-.\s]?\d{3}[-.\s]?\d{4}$/;

                // Clear previous errors
                document.querySelectorAll(".error-message").forEach(el => el.style.display = "none");
                document.querySelectorAll("input, textarea, select").forEach(el => el.classList.remove("invalid"));

                if (firstname.value.trim() === "") {
                    showError(name, "First name is required.");
                    isValid = false;
                }

                if (lastname.value.trim() === "") {
                    showError(name, "Last name is required.");
                    isValid = false;
                }

                if (email.value.trim() === "" || !emailPattern.test(email.value)) {
                    showError(email, "Valid email is required.");
                    isValid = false;
                }

                if (number.value.trim() === "" || !numPattern.test(number.value)) {
                    showError(number, "Valid number is required.");
                    isValid = false;
                }

                if (subject.value.trim() === "") {
                    showError(subject, "Subject is required.");
                    isValid = false;
                }

                if (message.value.trim() === "") {
                    showError(message, "Message is required.");
                    isValid = false;
                }

                if (reason.value === "") {
                    showError(reason, "Please select a reason for inquiry.");
                    isValid = false;
                }

                return isValid;
            }

            function showError(inputElement, message) {
                let errorSpan = inputElement.nextElementSibling;
                
                // Ensure we are selecting the correct error span
                while (errorSpan && !errorSpan.classList.contains("error-message")) {
                    errorSpan = errorSpan.nextElementSibling;
                }

                if (errorSpan) {
                    errorSpan.innerText = message;
                    errorSpan.style.display = "block";
                }

                inputElement.classList.add("invalid"); // Highlight the field in red
            }
        </script>
        <style>
            body {
                color: #0c4784;
                font-family: "Sour Gummy", serif;
            }
            
            /* Adjust h2 and h3 spacing */
            .contact-h2 {
                text-align: center; 
            }

            .contact-h3 {
                text-align: center; 
            }

            /* Style the contact form */
            #contactForm {
                margin-top: 2vw;
            }

            /* Style the contact form input fields */
            input[type="text"],
            input[type="email"],
            textarea,
            select {
                width: 100%;
                padding: 10px;
                margin-top: 5px;
                border: 2px solid #0c3684d5;
                border-radius: 1px;
                font-size: 16px;
                transition: 0.3s;
                outline: none;
            }

            /* Style submit button */
            input[type="submit"]   {
                color: #1c8390;
                border: 3px solid #1c8390;
                background-color: #5ad9b9;
                padding: 5px 15px;
                font-size: 20px;
                font-family: "Sour Gummy", serif;
                cursor: pointer;
                border-radius: 5px;
                display: block;
                margin: 10px auto;  /* Center it horizontally */
                text-align: center;  /* Ensure text inside is centered */
                width: fit-content;
            }
            
            /* Hover effect for submit button */
            input[type="submit"]:hover {
                background-color: #1c8390;
                color: white;
            }

            /* Style urgent request button */
            #urgentButton {
                font-family: "Sour Gummy", serif;
                color: #0c4784;
                background-color: white;
                padding: 10px 20px;
                font-size: 16px;
                cursor: pointer;
                border-radius: 5px;
                margin-bottom: 10px;
                transition: background-color 0.3s ease, color 0.3s ease;
            }

            /* Hover effect for urgent button */
            #urgentButton:hover {
                background-color: #0c4784;
                color: white;
            }

            /* Apply font and color to dropdown */
            select, select option {
                font-family: "Sour Gummy", serif;
                color: #0c4784;
            }

            /* Style for error messages */
            .error-message {
                color: red;
                font-size: 14px;
                margin-top: 5px;
                display: none; /* Initially hidden */
            }

            /* Highlight invalid input fields */
            input.invalid, textarea.invalid, select.invalid {
                border: 2px solid red;
            }

        </style>
    </head>
    <body style="background-color: #d0faf3; " >
        <div class="headerdesign">
            <img src="../images/header.png" style="width: 100%;">
        </div>
        
        <div class="topnav" id="myTopnav">
            <a href="../index.html" class="active">
                <div id="HomeImg"></div>
            </a>
            <a href="about.html">About</a>
            <a href="creatures.html">Creatures</a>
            <a href="food.html">Food & Care</a>
            <a href="adopt.html">Adopt</a>
            <a href="testimonials.html">Testimonials</a>
            <a href="faq.html">FAQ</a>
            <a href="contact.html">Contact Us</a>
            
            <a href="javascript:void(0);" class="icon" onclick="expandNav()">
                <i class="fa fa-bars"></i>
            </a>
        </div>

        <div id="bannerimage" style="height:50%;">
            <h1 class='bannertxt'>Contact Us</h1>
        </div>  

        

        <div style="padding:10px; margin-left: 20%; margin-right: 20%;">
            <h2 class="contact-h2">We would love to hear from you!</h2>
            <h3 class="contact-h3">If you have any questions, concerns, or feedback, please fill out the form below and we will get back to you as soon as possible.

            <form id="contactForm" onsubmit="return validateForm()">
                <label for="firstname">First Name:</label><br>
                <input type="text" id="firstname" name="firstname" required><br>
                <span class="error-message"></span><br>

                <label for="lastname">Last Name:</label><br>
                <input type="text" id="lastname" name="lastname" required><br>
                <span class="error-message"></span><br>

                <label for="number">Phone Number:</label><br>
                <input type="text" id="number" name="number" required><br>
                <span class="error-message"></span><br>

                <label for="email">Email:</label><br>
                <input type="email" id="email" name="email" required><br>
                <span class="error-message"></span><br>

                <label for="subject">Subject:</label><br>
                <input type="text" id="subject" name="subject" required><br>
                <span class="error-message"></span><br>

                <label for="message">Message:</label><br>
                <textarea id="message" name="message" rows="4" required></textarea><br>
                <span class="error-message"></span><br>

                <label for="reason">Reason for Inquiry:</label><br>
                <select id="reason" name="reason" required>
                    <option value="">Select a reason</option>
                    <option value="general">General Question</option>
                    <option value="support">Support Request</option>
                    <option value="adoption">Adoption Inquiry</option>
                </select><br>
                <span class="error-message"></span><br>

                <button type="button" id="urgentButton" onclick="toggleUrgency()">Click if this is an urgent request</button>
                <input type="hidden" id="urgentRequest" name="urgentRequest" value="false">

                <!-- Add back the missing submit button -->
                <input type="submit" value="Submit">
            </h3>
            </form>
            
            <br>
            <h2 class="headers">Further Inquiries</h2>
            <p class="headers">Please reach out to someone
            <a href="mailto:someone@mysticmanagerie.org" class="main_link">someone@mysticmanagerie.org</a></p> 
            <br>
            

        </div>


    </body>
</html>
